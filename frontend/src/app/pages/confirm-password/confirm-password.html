<div class="login-container">
	<!-- SecciÃ³n izquierda con imagen -->
	<div class="image-section">
		<div class="image-content">
			<div class="logo">
			</div>
		</div>
	</div>

	<!-- SecciÃ³n derecha con formulario -->
	<div class="form-section">
		<div class="form-content">
			<div class="logo-container">
				<img src="assets/Copia-de-FInal-Logo-campusprueba2-2-1-scaled.png" alt="Campus Logo" class="logo-img">
			</div>

			<h1>Restablecer contraseÃ±a</h1>




			<form class="login-form" (ngSubmit)="onSubmit()" *ngIf="tokenValid">
				<div class="form-group">
					<label for="password">ContraseÃ±a nueva</label>
					<div class="input-container">
						<input type="password" id="password" name="password" [(ngModel)]="password"
							placeholder="Nueva contraseÃ±a" required>
					</div>
				</div>

				<div class="form-group">
					<label for="confirmPassword">Confirmar contraseÃ±a nueva</label>
					<div class="input-container">
						<input type="password" id="confirmPassword" name="confirmPassword" [(ngModel)]="confirmPassword"
							placeholder="Confirmar contraseÃ±a nueva" required>
					</div>
				</div>
				<!-- reCAPTCHA widget -->
				<div class="form-group">
					<div class="g-recaptcha" data-sitekey="6Lf5_3gsAAAAAMr_XkQXMu-gg5V1srlltM-pEXqU"></div>
				</div>

				<button type="submit" class="btn-login" [disabled]="isLoading" [class.loading]="isLoading">
					<span *ngIf="!isLoading">Restablecer contraseÃ±a</span>
					<span *ngIf="isLoading" class="loading-content">
						<span class="spinner"></span>
						Guardando...
					</span>
				</button>

				<!-- Toast de Ã©xito elegante -->
				<div *ngIf="successMessage" class="success-toast">
					<span class="toast-icon">âœ…</span>
					<span>{{ successMessage }}</span>
				</div>

				<!-- Toast de error elegante -->
				<div *ngIf="errorMessage" class="error-toast">
					<span>{{ errorMessage }}</span>
				</div>

				<div class="forgot-password">
					<a routerLink="/login">Volver a iniciar sesiÃ³n</a>
				</div>
			</form>

			<!-- Mensaje cuando no hay token vÃ¡lido -->
			<div *ngIf="!tokenValid" class="invalid-token-section">
				<div class="invalid-token-icon">ğŸ”—</div>
				<div *ngIf="errorMessage" class="error-toast">
					<span>{{ errorMessage }}</span>
				</div>
				<p class="hint-message" style="margin-top: 12px;">
					Necesitas un enlace vÃ¡lido para restablecer tu contraseÃ±a.
				</p>
				<div class="forgot-password">
					<a routerLink="/email">Solicitar nuevo enlace</a>
				</div>
				<div class="forgot-password">
					<a routerLink="/login">Volver a iniciar sesiÃ³n</a>
				</div>
			</div>

			<!-- reCAPTCHA script -->
			<script src="https://www.google.com/recaptcha/api.js" async defer></script>
		</div>
	</div>
</div>